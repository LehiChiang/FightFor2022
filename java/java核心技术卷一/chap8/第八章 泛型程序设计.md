## 第8章 泛型程序设计

### 8.2 定义简单泛型类

泛型类引入一个变量类型`T`，用尖括号`(<>)`括起来，放在类名后面。泛型类可以有多个类型变量。例如下面定义的`Pair`类，其中第一个字段和第二个字段使用不同的类型：

```java
public class Pair<T, U> {
    private T firstNumber;
    private U secondNumber;

    public Pair(T firstNumber, U secondNumber) {
        this.firstNumber = firstNumber;
        this.secondNumber = secondNumber;
    }

    public T getFirstNumber() {
        return firstNumber;
    }

    public void setFirstNumber(T firstNumber) {
        this.firstNumber = firstNumber;
    }

    public U getSecondNumber() {
        return secondNumber;
    }

    public void setSecondNumber(U secondNumber) {
        this.secondNumber = secondNumber;
    }
}
```



### 8.3 泛型方法

泛型方法可以在普通类中定义，也可以在泛型类中定义。



### 8.4 类型变量的限定

对泛型类型进行限定的方法如下：

```java
public static <T extends BoundingType> T method(T a);
```

表示`T`应该是限定类型的子类型。`T`和限定类型可以是类，也可以是接口。选择使用`extends`的原因是它更接近子类型的概念。

一个类型变量或通配符可以有多个限定，例如：

```
T extends Comparable & Serializable
```

可以根据需要拥有多个接口超类型，但最多有一个限定可以是类。如果有一个类作为限定，它必须是限定列表中的第一个限定。

```java
public class Pair<T> {
    private T firstNumber;
    private T secondNumber;

    public Pair(T firstNumber, T secondNumber) {
        this.firstNumber = firstNumber;
        this.secondNumber = secondNumber;
    }

    public T getFirstNumber() {
        return firstNumber;
    }

    public void setFirstNumber(T firstNumber) {
        this.firstNumber = firstNumber;
    }

    public T getSecondNumber() {
        return secondNumber;
    }

    public void setSecondNumber(T secondNumber) {
        this.secondNumber = secondNumber;
    }

    public static <T extends Comparable> Pair<T> minmax(T[] a) {
        if (a == null || a.length == 0) return null;
        T min = a[0];
        T max = a[0];
        for (int i = 1; i < a.length; i++) {
            if (max.compareTo(a[i]) < 0) max = a[i];
            if (min.compareTo(a[i]) > 0) min = a[i];
        }
        return new Pair<>(min, max);
    }
}
```

